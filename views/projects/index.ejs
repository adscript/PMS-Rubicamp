<% include ../partials/header %>
</head>

<body>
    <% include ../partials/navbar %>
    <div class="px-5" style="margin-top: 80px">
        <h1>Projects</h1>
        <hr />
        <!-- TAMPILAN FILTERS  -->
        <h2>Filters</h2>
        <form action="" method="GET" style="margin: 20px 180px">
            <input type="hidden" name="page" value="1">

            <!-- Struktur dari filter
                formFilter = {
                    name : " ";
                    type : " ";
                    select : [option1, option2, option3]; untuk selection type
                    select : undefined; untuk type lainnya
                    value : query.name;
                }
                filterQuery = {
                    checkBox : req.query.checkBox;
                }
            -->
            <%_ formFilter.forEach((filter) => {-%>
            <div class="form-group row">
                <label for="filter" class="col-sm-2 col-form-label">
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" name="checkBox" value="<%= filter.name %>"
                            <%= filterQuery.includes(filter.name) ? "checked" : "" %> />
                        <label class="form-check-label" for="defaultCheck1">
                            <%= filter.name %>
                        </label>
                    </div>
                </label>
                <div class="col-sm-10">
                    <%_ if(filter.select){ -%>
                        <select class="form-control" name="<%=filter.name%>" id="">
                            <option selected disabled> Pilih Member </option>
                            <%_filter.select.forEach((option) => { -%>
                                <option <%= filterQuery.includes(filter.name) && filter.value == option ? "selected" : "" %>><%= option %></option>
                            <%_ }) -%>
                        </select>
                        <%_ } else { -%>
                            <input type="<%= filter.type%> " class="form-control pr-5 mdl-textfield--floating-label"
                            placeholder="<%= filter.name %>" name="<%= filter.name %>" value="<%= filterQuery.includes(filter.name) && filter.value ? filter.value : filter.value = '' %>">
                    <%_ } -%>
                </div>
            </div>
            <%_ }); -%>
        </form>

        <!-- TAMPILAN OPTIONS -->
        <h2>Options</h2>
        <form action="#" method="POST" class="mx-5">
            <div class="form-group row">
                <div class="col-sm-2">Columns</div>
                <div class="col-sm-10">
                    <%_ formOptions.forEach((data) => {-%>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="checkopt" value="<%= data %>">
                        <label class="form-check-label">
                            <%= data %>
                        </label>
                    </div>
                    <%_ }) -%>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-sm-10">
                    <button type="submit" class="btn btn-primary">Apply</button>
                </div>
            </div>
        </form>

        <!-- TAMPILAN TABEL -->
        <table border="0" class="table table-striped" style="margin-top: 50px;">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Name</th>
                    <th scope="col">Members</th>
                    <th scope="col">Action</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>Adnan Fanspage</td>
                    <td>Isyana, Raisa, Camila</td>
                    <td>
                        <a role="button" class="btn btn-success mr-1" href="projects/edit/1">Edit</button>
                            <a role="button" class="btn btn-danger" href="projects/delete/1">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>

        <!--PAGINATION-->
        <nav aria-label="...">
            <ul class="pagination">
                <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                </li>
                <li class="page-item"><a class="page-link" href="#">1</a></li>
                <li class="page-item active" aria-current="page">
                    <a class="page-link" href="#">2 <span class="sr-only">(current)</span></a>
                </li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                    <a class="page-link" href="#">Next</a>
                </li>
            </ul>
        </nav>

        <a role="button" href="add" class="btn btn-primary">Add</a>
    </div>
    <% include ../partials/footer %>