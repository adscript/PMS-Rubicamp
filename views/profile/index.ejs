<% include ../partials/header %>
</head>

<body>
    <% include ../partials/navbar %>
    <div class="px-5" style="margin-top: 80px">
        <%_ if(messages){ -%>
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <%= messages %>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <%_ } -%>
        <h1>Profile</h1>
        <hr />
        <form action="" method="POST" style="margin: 25px 180px; ">
            <div class="form-group row">
                <label for="inputEmail3" class="col-sm-2 col-form-label">First Name</label>
                <div class="col-sm-10">
                    <input type="text" name="firstname" class="form-control" id="inputEmail3" placeholder="First Name"
                        value="<%= loggedInUser.firstname %>">
                </div>
            </div>
            <div class="form-group row">
                <label for="inputEmail3" class="col-sm-2 col-form-label">Last Name</label>
                <div class="col-sm-10">
                    <input type="text" name="lastname" class="form-control" id="inputEmail3" placeholder="Last Name"
                        value="<%= loggedInUser.lastname %>">
                </div>
            </div>
            <div class="form-group row">
                <label for="inputEmail3" class="col-sm-2 col-form-label">Email</label>
                <div class="col-sm-10">
                    <input type="email" class="form-control" id="inputEmail3" placeholder="Email"
                        value="<%= loggedInUser.email %>" readonly>
                </div>
            </div>
            <div class="form-group row">
                <label for="inputPassword3" class="col-sm-2 col-form-label">Password</label>
                <div class="col-sm-10">
                    <input type="password" name="password" class="form-control" id="inputPassword3"
                        placeholder="Password">
                </div>
            </div>
            <fieldset class="form-group">
                <div class="row">
                    <legend class="col-form-label col-sm-2 pt-0">Position</legend>
                    <div class="col-sm-10">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="generalrole" id="gridRadios1"
                                value="Manager" <%= (loggedInUser.generalrole == "Manager") ? 'checked' : '' %>>
                            <label class="form-check-label" for="gridRadios1">
                                Manager
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="generalrole" id="gridRadios2"
                                value="Software Developer"
                                <%= (loggedInUser.generalrole == "Software Developer") ? 'checked' : '' %>>
                            <label class="form-check-label" for="gridRadios2">
                                Software Developer
                            </label>
                        </div>
                        <div class="form-check disabled">
                            <input class="form-check-input" type="radio" name="generalrole" id="gridRadios3"
                                value="Quality Assurance"
                                <%= (loggedInUser.generalrole == "Quality Assurance") ? 'checked' : '' %>>
                            <label class="form-check-label" for="gridRadios3">
                                Quality Assurance
                            </label>
                        </div>
                    </div>
                </div>
            </fieldset>
            <div class="form-group row">
                <div class="col-sm-2">Type</div>
                <div class="col-sm-10">
                    <div class="form-check">
                        <input class="form-check-input" name="isfulltime" type="checkbox" id="gridCheck1" 
                            <%= (loggedInUser.isfulltime) ? 'checked' : '' %> >
                        <label class="form-check-label" for="gridCheck1">
                            Fulltime
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-sm-10">
                    <button type="submit" class="btn btn-primary">Update</button>
                </div>
            </div>
        </form>

    </div>
    <script>
    $(document).ready(function() {
    // show the alert
    setTimeout(function() {
        $(".alert").alert('close');
    }, 2000);
    });
    </script>
    <% include ../partials/footer %>